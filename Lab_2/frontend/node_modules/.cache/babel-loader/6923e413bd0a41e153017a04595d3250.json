{"ast":null,"code":"import _objectSpread from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Lab 1/Github/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from \"axios\";\nvar headers = {\n  'Accept': 'application/json'\n};\nexport function login(user_id, password) {\n  return function (dispatch) {\n    fetch('http://localhost:8000/api/login', {\n      method: 'POST',\n      headers: _objectSpread({}, headers, {\n        'Content-Type': 'application/json'\n      }),\n      credentials: 'include',\n      body: JSON.stringify({\n        user_id: user_id,\n        password: password\n      })\n    }).then(function (response) {\n      console.log(\"response : -----\");\n      console.log(response);\n      response.json().then(function (res) {\n        console.log(\"`palash \");\n        console.log(res);\n\n        if (response.status === 200) {\n          dispatch({\n            type: \"LOGIN_STATUS\",\n            payload: res.user_id // payload: user_id\n\n          });\n        }\n      });\n    }).catch(function (error) {\n      console.log(error);\n      dispatch({\n        type: \"LOGIN_FAILED\",\n        payload: false\n      });\n    });\n  };\n}\nexport function signup(fullname, email, user_id, password, isStudent) {\n  console.log(\"Action Signup \" + isStudent);\n  return function (dispatch) {\n    axios.post('http://localhost:8000/api/signup', {\n      fullname: fullname,\n      email: email,\n      user_id: user_id,\n      password: password,\n      isStudent: isStudent\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"SIGNUP_STATUS\",\n          payload: true\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch({\n        type: \"SIGNUP_STATUS\",\n        payload: false\n      });\n    });\n  };\n}\nexport function checkSession() {\n  return function (dispatch) {\n    axios.get('http://localhost:8000/api/checkSession', {}).then(function () {});\n  };\n}","map":{"version":3,"sources":["/Users/drashtithakkar/Documents/Semester_2/CMPE273/Lab 1/Github/273_Canvas/frontend/src/actions/auth.js"],"names":["axios","headers","login","user_id","password","dispatch","fetch","method","credentials","body","JSON","stringify","then","response","console","log","json","res","status","type","payload","catch","error","signup","fullname","email","isStudent","post","checkSession","get"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,OAAO,GAAG;AACd,YAAU;AADI,CAAhB;AAKA,OAAO,SAASC,KAAT,CAAeC,OAAf,EAAuBC,QAAvB,EAAiC;AAGtC,SAAO,UAASC,QAAT,EAAkB;AAErBC,IAAAA,KAAK,CAAC,iCAAD,EAAoC;AACrCC,MAAAA,MAAM,EAAE,MAD6B;AAErCN,MAAAA,OAAO,oBACFA,OADE;AAEL,wBAAgB;AAFX,QAF8B;AAMrCO,MAAAA,WAAW,EAAC,SANyB;AAOrCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACR,QAAAA,OAAO,EAAPA,OAAD;AAASC,QAAAA,QAAQ,EAARA;AAAT,OAAf;AAP+B,KAApC,CAAL,CAQGQ,IARH,CAQQ,UAAUC,QAAV,EAAoB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEAA,MAAAA,QAAQ,CAACG,IAAT,GAAgBJ,IAAhB,CAAqB,UAAAK,GAAG,EAAI;AAC1BH,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;;AACA,YAAGJ,QAAQ,CAACK,MAAT,KAAkB,GAArB,EAA0B;AAEtBb,UAAAA,QAAQ,CAAC;AACPc,YAAAA,IAAI,EAAE,cADC;AAGPC,YAAAA,OAAO,EAAEH,GAAG,CAACd,OAHN,CAIP;;AAJO,WAAD,CAAR;AAMH;AAEF,OAbD;AAkBL,KA9BD,EA+BGkB,KA/BH,CA+BS,UAAAC,KAAK,EAAI;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AAEQjB,MAAAA,QAAQ,CAAC;AACPc,QAAAA,IAAI,EAAE,cADC;AAEPC,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAIX,KAtCD;AAyCH,GA3CD;AA4CD;AAED,OAAO,SAASG,MAAT,CAAgBC,QAAhB,EAAyBC,KAAzB,EAA+BtB,OAA/B,EAAuCC,QAAvC,EAAiDsB,SAAjD,EAA4D;AAEjEZ,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBW,SAA/B;AACA,SAAO,UAASrB,QAAT,EAAkB;AACrBL,IAAAA,KAAK,CAAC2B,IAAN,CAAW,kCAAX,EAA+C;AAEnCH,MAAAA,QAAQ,EAARA,QAFmC;AAE1BC,MAAAA,KAAK,EAALA,KAF0B;AAEpBtB,MAAAA,OAAO,EAAPA,OAFoB;AAEZC,MAAAA,QAAQ,EAARA,QAFY;AAEHsB,MAAAA,SAAS,EAATA;AAFG,KAA/C,EAKOd,IALP,CAKY,UAAUC,QAAV,EAAoB;AAExBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAGA,QAAQ,CAACK,MAAT,KAAkB,GAArB,EAA0B;AAExBb,QAAAA,QAAQ,CAAC;AACLc,UAAAA,IAAI,EAAE,eADD;AAELC,UAAAA,OAAO,EAAE;AAFJ,SAAD,CAAR;AAKD;AAGF,KAlBP,EAmBOC,KAnBP,CAmBa,UAAUC,KAAV,EAAiB;AACtBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACAjB,MAAAA,QAAQ,CAAC;AACPc,QAAAA,IAAI,EAAE,eADC;AAEPC,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAKD,KA1BP;AA2BH,GA5BD;AA6BD;AAED,OAAO,SAASQ,YAAT,GAAuB;AAC9B,SAAO,UAASvB,QAAT,EAAkB;AACvBL,IAAAA,KAAK,CAAC6B,GAAN,CAAU,wCAAV,EAAoD,EAApD,EACCjB,IADD,CACM,YAAU,CAEf,CAHD;AAID,GALD;AAMC","sourcesContent":["import axios from \"axios\"\nconst headers = {\n  'Accept': 'application/json'\n};\n\n\nexport function login(user_id,password) {\n\n  \n  return function(dispatch){\n\n      fetch('http://localhost:8000/api/login', {\n          method: 'POST',\n          headers: {\n            ...headers,\n            'Content-Type': 'application/json'\n          },\n          credentials:'include',\n          body: JSON.stringify({user_id,password})\n      }).then(function (response) {\n            console.log(\"response : -----\" )\n            console.log(response)\n\n            response.json().then(res => {\n              console.log(\"`palash \")\n              console.log(res)\n              if(response.status===200) {\n              \n                  dispatch({\n                    type: \"LOGIN_STATUS\",\n                    \n                    payload: res.user_id\n                    // payload: user_id\n                  })\n              }\n\n            })\n\n\n            \n            \n      })\n        .catch(error => {\n          console.log(error);\n              \n                  dispatch({\n                    type: \"LOGIN_FAILED\",\n                    payload: false\n                  })\n      })\n\n\n  }\n}\n\nexport function signup(fullname,email,user_id,password, isStudent) {\n\n  console.log(\"Action Signup \" + isStudent)\n  return function(dispatch){\n      axios.post('http://localhost:8000/api/signup', {\n            \n                  fullname,email,user_id,password,isStudent\n            \n            })\n            .then(function (response) {\n                 \n              console.log(response)\n              if(response.status===200) {\n                \n                dispatch({\n                    type: \"SIGNUP_STATUS\",\n                    payload: true\n                })\n\n              }\n               \n\n            })\n            .catch(function (error) {\n              console.log(error);\n              dispatch({\n                type: \"SIGNUP_STATUS\",\n                payload: false\n              })\n            \n            });\n  }\n}\n\nexport function checkSession(){\nreturn function(dispatch){\n  axios.get('http://localhost:8000/api/checkSession', {})\n  .then(function(){\n\n  })\n}\n}"]},"metadata":{},"sourceType":"module"}