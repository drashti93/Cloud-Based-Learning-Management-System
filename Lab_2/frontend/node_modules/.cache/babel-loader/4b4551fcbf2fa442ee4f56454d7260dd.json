{"ast":null,"code":"import axios from \"axios\";\nvar backend_ip = 'http://52.8.27.226:8000/api/';\nexport function getAllMessages(user_id) {\n  console.log(\"Get all messages action \" + user_id);\n  return function (dispatch) {\n    axios.get(backend_ip + 'getAllMessages?user_id=' + user_id).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"ALL_MESSAGE_SUCCESS\",\n          payload: response.data.all_messages\n        });\n      }\n    }).catch(function (error) {\n      dispatch({\n        type: \"ALL_MESSAGE_FAILURE\",\n        payload: false\n      });\n    });\n  };\n}\nexport function sendMessage(sender_user_id, receiver_user_id, message_body) {\n  console.log(\"send messages sender: \" + sender_user_id + \" receiver: \" + receiver_user_id + \" message: \" + message_body);\n  return function (dispatch) {\n    axios.post(backend_ip + 'sendMessage', {\n      sender_user_id: sender_user_id,\n      receiver_user_id: receiver_user_id,\n      message_body: message_body\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"ALL_MESSAGE_SUCCESS\",\n          payload: true\n        });\n      }\n    }).catch(function (error) {\n      dispatch({\n        type: \"ALL_MESSAGE_FAILURE\",\n        payload: false\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/Users/drashtithakkar/Documents/Semester_2/CMPE273/Lab2_With_Mongo/frontend/src/actions/message.js"],"names":["axios","backend_ip","getAllMessages","user_id","console","log","dispatch","get","then","response","status","type","payload","data","all_messages","catch","error","sendMessage","sender_user_id","receiver_user_id","message_body","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,UAAU,GAAG,8BAAnB;AACA,OAAO,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AAEpCC,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BF,OAAzC;AACA,SAAO,UAASG,QAAT,EAAkB;AAErBN,IAAAA,KAAK,CAACO,GAAN,CAAUN,UAAU,GAAC,yBAAX,GAAqCE,OAA/C,EACOK,IADP,CACY,UAAUC,QAAV,EAAoB;AACtBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;;AACA,UAAGA,QAAQ,CAACC,MAAT,KAAkB,GAArB,EAA0B;AAEtBJ,QAAAA,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAE,qBAAR;AAA+BC,UAAAA,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;AAAtD,SAAD,CAAR;AACH;AACJ,KAPP,EAQOC,KARP,CAQa,UAAUC,KAAV,EAAiB;AACpBV,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,qBAAP;AAA6BC,QAAAA,OAAO,EAAE;AAAtC,OAAD,CAAR;AACH,KAVP;AAWH,GAbD;AAcD;AAEH,OAAO,SAASK,WAAT,CAAqBC,cAArB,EAAqCC,gBAArC,EAAuDC,YAAvD,EAAqE;AAExEhB,EAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2Ba,cAA3B,GAA2C,aAA3C,GAAyDC,gBAAzD,GAA2E,YAA3E,GAAwFC,YAApG;AACA,SAAO,UAASd,QAAT,EAAkB;AAEvBN,IAAAA,KAAK,CAACqB,IAAN,CAAWpB,UAAU,GAAC,aAAtB,EAAqC;AACjCiB,MAAAA,cAAc,EAAdA,cADiC;AACjBC,MAAAA,gBAAgB,EAAhBA,gBADiB;AACCC,MAAAA,YAAY,EAAZA;AADD,KAArC,EAGSZ,IAHT,CAGc,UAAUC,QAAV,EAAoB;AACtBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;;AACA,UAAGA,QAAQ,CAACC,MAAT,KAAkB,GAArB,EAA0B;AAEtBJ,QAAAA,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAE,qBAAR;AAA+BC,UAAAA,OAAO,EAAE;AAAxC,SAAD,CAAR;AACH;AACJ,KATT,EAUSG,KAVT,CAUe,UAAUC,KAAV,EAAiB;AACpBV,MAAAA,QAAQ,CAAC;AAACK,QAAAA,IAAI,EAAE,qBAAP;AAA6BC,QAAAA,OAAO,EAAE;AAAtC,OAAD,CAAR;AACH,KAZT;AAaD,GAfD;AAgBD","sourcesContent":["import axios from \"axios\"\nconst backend_ip = 'http://52.8.27.226:8000/api/';\nexport function getAllMessages(user_id) {\n\n    console.log(\"Get all messages action \" + user_id)\n    return function(dispatch){\n      \n        axios.get(backend_ip+'getAllMessages?user_id='+user_id)\n              .then(function (response) {\n                  console.log(response)\n                  if(response.status===200) {\n  \n                      dispatch({ type: \"ALL_MESSAGE_SUCCESS\", payload: response.data.all_messages })\n                  }\n              })\n              .catch(function (error) {\n                  dispatch({type: \"ALL_MESSAGE_FAILURE\",payload: false})\n              });\n    }\n  }\n\nexport function sendMessage(sender_user_id, receiver_user_id, message_body) {\n\n    console.log(\"send messages sender: \" + sender_user_id+ \" receiver: \"+receiver_user_id+ \" message: \"+message_body)\n    return function(dispatch){\n      \n      axios.post(backend_ip+'sendMessage', {\n          sender_user_id, receiver_user_id, message_body\n      })\n              .then(function (response) {\n                  console.log(response)\n                  if(response.status===200) {\n  \n                      dispatch({ type: \"ALL_MESSAGE_SUCCESS\", payload: true })\n                  }\n              })\n              .catch(function (error) {\n                  dispatch({type: \"ALL_MESSAGE_FAILURE\",payload: false})\n              });\n    }\n  }"]},"metadata":{},"sourceType":"module"}