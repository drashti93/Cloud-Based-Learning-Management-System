{"ast":null,"code":"import _toConsumableArray from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/src/components/pagination/pagination.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nvar LEFT_PAGE = 'LEFT';\nvar RIGHT_PAGE = 'RIGHT';\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\n\nvar range = function range(from, to) {\n  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var i = from;\n  var range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nvar Pagination =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pagination, _Component);\n\n  function Pagination(props) {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pagination).call(this, props));\n\n    _this.fetchPageNumbers = function () {\n      var totalPages = _this.totalPages;\n      var currentPage = _this.state.currentPage;\n      var pageNeighbours = _this.pageNeighbours;\n      /**\n       * totalNumbers: the total page numbers to show on the control\n       * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n       */\n\n      var totalNumbers = _this.pageNeighbours * 2 + 3;\n      var totalBlocks = totalNumbers + 2;\n\n      if (totalPages > totalBlocks) {\n        var startPage = Math.max(2, currentPage - pageNeighbours);\n        var endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n        var pages = range(startPage, endPage);\n        /**\n         * hasLeftSpill: has hidden pages to the left\n         * hasRightSpill: has hidden pages to the right\n         * spillOffset: number of hidden pages either to the left or to the right\n         */\n\n        var hasLeftSpill = startPage > 2;\n        var hasRightSpill = totalPages - endPage > 1;\n        var spillOffset = totalNumbers - (pages.length + 1);\n\n        switch (true) {\n          // handle: (1) < {5 6} [7] {8 9} (10)\n          case hasLeftSpill && !hasRightSpill:\n            {\n              var extraPages = range(startPage - spillOffset, startPage - 1);\n              pages = [LEFT_PAGE].concat(_toConsumableArray(extraPages), _toConsumableArray(pages));\n              break;\n            }\n          // handle: (1) {2 3} [4] {5 6} > (10)\n\n          case !hasLeftSpill && hasRightSpill:\n            {\n              var _extraPages = range(endPage + 1, endPage + spillOffset);\n\n              pages = [].concat(_toConsumableArray(pages), _toConsumableArray(_extraPages), [RIGHT_PAGE]);\n              break;\n            }\n          // handle: (1) < {4 5} [6] {7 8} > (10)\n\n          case hasLeftSpill && hasRightSpill:\n          default:\n            {\n              pages = [LEFT_PAGE].concat(_toConsumableArray(pages), [RIGHT_PAGE]);\n              break;\n            }\n        }\n\n        return [1].concat(_toConsumableArray(pages), [totalPages]);\n      }\n\n      return range(1, totalPages);\n    };\n\n    _this.gotoPage = function (page) {\n      var _this$props$onPageCha = _this.props.onPageChanged,\n          onPageChanged = _this$props$onPageCha === void 0 ? function (f) {\n        return f;\n      } : _this$props$onPageCha;\n      var currentPage = Math.max(0, Math.min(page, _this.totalPages));\n      var paginationData = {\n        currentPage: currentPage,\n        totalPages: _this.totalPages,\n        pageLimit: _this.pageLimit,\n        totalRecords: _this.totalRecords\n      };\n\n      _this.setState({\n        currentPage: currentPage\n      }, function () {\n        return onPageChanged(paginationData);\n      });\n    };\n\n    _this.handleClick = function (page) {\n      return function (evt) {\n        evt.preventDefault();\n\n        _this.gotoPage(page);\n      };\n    };\n\n    _this.handleMoveLeft = function (evt) {\n      evt.preventDefault();\n\n      _this.gotoPage(_this.state.currentPage - _this.pageNeighbours * 2 - 1);\n    };\n\n    _this.handleMoveRight = function (evt) {\n      evt.preventDefault();\n\n      _this.gotoPage(_this.state.currentPage + _this.pageNeighbours * 2 + 1);\n    };\n\n    var _props$totalRecords = props.totalRecords,\n        totalRecords = _props$totalRecords === void 0 ? null : _props$totalRecords,\n        _props$pageLimit = props.pageLimit,\n        pageLimit = _props$pageLimit === void 0 ? 10 : _props$pageLimit,\n        _props$pageNeighbours = props.pageNeighbours,\n        _pageNeighbours = _props$pageNeighbours === void 0 ? 0 : _props$pageNeighbours;\n\n    _this.pageLimit = typeof pageLimit === 'number' ? pageLimit : 10;\n    _this.totalRecords = typeof totalRecords === 'number' ? totalRecords : 0; // pageNeighbours can be: 0, 1 or 2\n\n    _this.pageNeighbours = typeof _pageNeighbours === 'number' ? Math.max(0, Math.min(_pageNeighbours, 2)) : 0;\n    _this.totalPages = Math.ceil(_this.totalRecords / _this.pageLimit);\n    _this.state = {\n      currentPage: 1\n    };\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.gotoPage(1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.totalRecords || this.totalPages === 1) return null;\n      var currentPage = this.state.currentPage;\n      var pages = this.fetchPageNumbers();\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        \"aria-label\": \"Countries Pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, pages.map(function (page, index) {\n        if (page === LEFT_PAGE) return React.createElement(\"li\", {\n          key: index,\n          className: \"page-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"page-link\",\n          href: \"#\",\n          \"aria-label\": \"Previous\",\n          onClick: _this2.handleMoveLeft,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, \"\\xAB\"), React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"Previous\")));\n        if (page === RIGHT_PAGE) return React.createElement(\"li\", {\n          key: index,\n          className: \"page-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"page-link\",\n          href: \"#\",\n          \"aria-label\": \"Next\",\n          onClick: _this2.handleMoveRight,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \"\\xBB\"), React.createElement(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"Next\")));\n        return React.createElement(\"li\", {\n          key: index,\n          className: \"page-item\".concat(currentPage === page ? ' active' : ''),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"page-link\",\n          href: \"#\",\n          onClick: _this2.handleClick(page),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, page));\n      }))));\n    }\n  }]);\n\n  return Pagination;\n}(Component);\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\nexport default Pagination;","map":{"version":3,"sources":["/Users/drashtithakkar/Documents/Semester_2/CMPE273/Canvas_Lab2/273_Canvas/frontend/src/components/pagination/pagination.js"],"names":["React","Component","Fragment","PropTypes","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","i","push","Pagination","props","fetchPageNumbers","totalPages","currentPage","state","pageNeighbours","totalNumbers","totalBlocks","startPage","Math","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","gotoPage","page","onPageChanged","f","paginationData","pageLimit","totalRecords","setState","handleClick","evt","preventDefault","handleMoveLeft","handleMoveRight","ceil","map","index","propTypes","number","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nconst LEFT_PAGE = 'LEFT';\nconst RIGHT_PAGE = 'RIGHT';\n\n/**\n * Helper method for creating a range of numbers\n * range(1, 5) => [1, 2, 3, 4, 5]\n */\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n}\n\nclass Pagination extends Component {\n\n\n\n  constructor(props) {\n    super(props);\n    const { totalRecords = null, pageLimit = 10, pageNeighbours = 0 } = props;\n\n    this.pageLimit = typeof pageLimit === 'number' ? pageLimit : 10;\n    this.totalRecords = typeof totalRecords === 'number' ? totalRecords : 0;\n\n    // pageNeighbours can be: 0, 1 or 2\n    this.pageNeighbours = typeof pageNeighbours === 'number'\n      ? Math.max(0, Math.min(pageNeighbours, 2))\n      : 0;\n\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n    this.state = { currentPage: 1 };\n  }\n\n  fetchPageNumbers = () => {\n\n    const totalPages = this.totalPages;\n    const currentPage = this.state.currentPage;\n    const pageNeighbours = this.pageNeighbours;\n\n    /**\n     * totalNumbers: the total page numbers to show on the control\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\n     */\n    const totalNumbers = (this.pageNeighbours * 2) + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n\n      let pages = range(startPage, endPage);\n\n      /**\n       * hasLeftSpill: has hidden pages to the left\n       * hasRightSpill: has hidden pages to the right\n       * spillOffset: number of hidden pages either to the left or to the right\n       */\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = (totalPages - endPage) > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        // handle: (1) < {5 6} [7] {8 9} (10)\n        case (hasLeftSpill && !hasRightSpill): {\n          const extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n\n        // handle: (1) {2 3} [4] {5 6} > (10)\n        case (!hasLeftSpill && hasRightSpill): {\n          const extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n\n        // handle: (1) < {4 5} [6] {7 8} > (10)\n        case (hasLeftSpill && hasRightSpill):\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n\n      return [1, ...pages, totalPages];\n\n    }\n\n    return range(1, totalPages);\n\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  gotoPage = page => {\n    const { onPageChanged = f => f } = this.props;\n\n    const currentPage = Math.max(0, Math.min(page, this.totalPages));\n\n    const paginationData = {\n      currentPage,\n      totalPages: this.totalPages,\n      pageLimit: this.pageLimit,\n      totalRecords: this.totalRecords\n    };\n\n    this.setState({ currentPage }, () => onPageChanged(paginationData));\n  }\n\n  handleClick = page => evt => {\n    evt.preventDefault();\n    this.gotoPage(page);\n  }\n\n  handleMoveLeft = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage - (this.pageNeighbours * 2) - 1);\n  }\n\n  handleMoveRight = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage + (this.pageNeighbours * 2) + 1);\n  }\n\n\n\n  render() {\n\n    if (!this.totalRecords || this.totalPages === 1) return null;\n\n    const { currentPage } = this.state;\n    const pages = this.fetchPageNumbers();\n\n    return (\n      <Fragment>\n        <nav aria-label=\"Countries Pagination\">\n          <ul className=\"pagination\">\n            { pages.map((page, index) => {\n\n              if (page === LEFT_PAGE) return (\n                <li key={index} className=\"page-item\">\n                  <a className=\"page-link\" href=\"#\" aria-label=\"Previous\" onClick={this.handleMoveLeft}>\n                    <span aria-hidden=\"true\">&laquo;</span>\n                    <span className=\"sr-only\">Previous</span>\n                  </a>\n                </li>\n              );\n\n              if (page === RIGHT_PAGE) return (\n                <li key={index} className=\"page-item\">\n                  <a className=\"page-link\" href=\"#\" aria-label=\"Next\" onClick={this.handleMoveRight}>\n                    <span aria-hidden=\"true\">&raquo;</span>\n                    <span className=\"sr-only\">Next</span>\n                  </a>\n                </li>\n              );\n\n              return (\n                <li key={index} className={`page-item${ currentPage === page ? ' active' : ''}`}>\n                  <a className=\"page-link\" href=\"#\" onClick={ this.handleClick(page) }>{ page }</a>\n                </li>\n              );\n\n            }) }\n\n          </ul>\n        </nav>\n      </Fragment>\n    );\n\n  }\n\n}\n\n\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\n\nexport default Pagination;"]},"metadata":{},"sourceType":"module"}